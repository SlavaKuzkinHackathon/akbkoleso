@using  akbkoleso.SortFilterPanViewModel

@model IndexViewModel

@addTagHelper *, akbkoleso

@{
    ViewData["Title"] = "Автоградшина | Шины, Диски, Аккумуляторы в Новосибирске";
}


    <div class="row justify-content-around">
        <a button="submit" asp-controller="Tyres" asp-action="Index" class="text-dark">
            <div>
                <span>
                    <img src="~/images/public/param.png" class="param" />
                </span>
                Подбор шин по параметрам
            </div>
        </a>
        <a button="submit" asp-controller="PodborTyres" asp-action="Index" class="text-dark">
            <div>
                <span>
                    <img src="~/images/public/paramAuto.png" class="param" />
                </span>
                Подбор шин по марке авто
            </div>
        </a>
    </div>
<div><br></div>
<form method="get">
    <div class="justify-content-center">
        <div class="row" style="background-color : #cccccc; padding: 10px">
            <div class="col-md-2 col-sm">
                <select name="namea" id="namea" value="@Model.FilterViewModel.SelectedNameA"
                        class="form-control" type="text">
                    <option value="/">Ширина(мм)</option>
                    <option value="145">145</option>
                    <option value="155">155</option>
                    <option value="165">165</option>
                    <option value="175">175</option>
                    <option value="185">185</option>
                    <option value="195">195</option>
                    <option value="205">205</option>
                    <option value="215">215</option>
                    <option value="225">225</option>
                    <option value="235">235</option>
                    <option value="245">245</option>
                    <option value="255">255</option>
                    <option value="265">265</option>
                    <option value="275">275</option>
                    <option value="285">285</option>
                    <option value="295">295</option>
                    <option value="305">305</option>
                    <option value="315">315</option>
                    <option value="325">325</option>
                </select>
            </div>
            <div class="col-md col-sm">
                <select name="nameb" id="nameb" value="@Model.FilterViewModel.SelectedNameB"
                        class="form-control">
                    <option value="/">Высота (профиль %)</option>
                    <option value="/25">25</option>
                    <option value="/30">30</option>
                    <option value="/35">35</option>
                    <option value="/40">40</option>
                    <option value="/45">45</option>
                    <option value="/50">50</option>
                    <option value="/55">55</option>
                    <option value="/60">60</option>
                    <option value="/65">65</option>
                    <option value="/70">70</option>
                    <option value="/75">75</option>
                    <option value="/80">80</option>
                    <option value="/85">85</option>
                </select>
            </div>
            <div class="col-md-2 col-sm">
                <select name="namec" id="namec" value="@Model.FilterViewModel.SelectedNameC"
                        class="form-control">
                    <option value="/">Диаметр (дюйм)</option>
                    <option value="r13">13</option>
                    <option value="r14">14</option>
                    <option value="r15">15</option>
                    <option value="r16">16</option>
                    <option value="r17">17</option>
                    <option value="r18">18</option>
                    <option value="r19">19</option>
                    <option value="r20">20</option>
                    <option value="r21">21</option>
                    <option value="r22">23</option>
                    <option value="r14c">14C</option>
                    <option value="r15c">15C</option>
                    <option value="r16c">16C</option>
                </select>
            </div>
            <div class="col-md col-sm">
                <select name="named" id="named" value="@Model.FilterViewModel.SelectedNameD"
                        class="form-control">
                    <option value="/">Сезон</option>
                    <option value=" лет">Летняя</option>
                    <option value=" зим">Зимняя</option>
                    <option value=" всесезон">Всесезонная</option>
                </select>
            </div>
            <div class="col-md-2 col-sm">
                <select name="namef" id="namef" value="@Model.FilterViewModel.SelectedNameF"
                        class="form-control">
                    <option value="/">Производитель</option>
                    <option value="BFGoodrich">BFGoodrich</option>
                    <option value="Bridgestone">Bridgestone</option>
                    <option value="Continental">Continental</option>
                    <option value="Cordiant">Cordiant</option>
                    <option value="CST">CST</option>
                    <option value="Dunlop">Dunlop</option>
                    <option value="Firestone">Firestone</option>
                    <option value="Forward">Forward</option>
                    <option value="Gislaved">Gislaved</option>
                    <option value="Goodyear">Goodyear</option>
                    <option value="Hankook">Hankook</option>
                    <option value="Kormoran">Kormoran</option>
                    <option value="Laufenn">Laufenn</option>
                    <option value="Matador">Matador</option>
                    <option value="MAXXIS">MAXXIS</option>
                    <option value="Mazzini">Mazzini</option>
                    <option value="Michelin">Michelin</option>
                    <option value="Nexen">Nexen</option>
                    <option value="Nitto">Nitto</option>
                    <option value="Nokian">Nokian</option>
                    <option value="Nonane">Nonane</option>
                    <option value="NORTEC">NORTEC</option>
                    <option value="Roadcruza">Roadcruza</option>
                    <option value="Sava">Sava</option>
                    <option value="Tigar">Tigar</option>
                    <option value="Tunga">Tunga</option>
                    <option value="Tyrex">Tyrex</option>
                    <option value="Viatti">Viatti</option>
                    <option value="Yokohama">Yokohama</option>
                    <option value="АШК">АШК</option>
                    <option value="Кама">Кама</option>
                    <option value="НкШЗ">НкШЗ</option>
                    <option value="ОШЗ">ОШЗ</option>
                    <option value="ЯШЗ">ЯШЗ</option>
                </select>
            </div>
            <div class="col-md-2 col-sm">
                <select name="nameg" id="nameg" value="@Model.FilterViewModel.SelectedNameG"
                        class="form-control">
                    <option value="/">Без шипа (Нешипуемая)</option>
                    <option value="Шип">С Шипом (Шипованная)</option>
                </select>
            </div>
            <div class="col-md col-sm"><input type="submit" value="Поиск" role="button" class="btn btn-info" /></div>
        </div>
    </div>

</form>
<div><br></div>
<a asp-action="Index" asp-route-sortOrder="@(Model.SortViewModel.RetailPriceSort)">Сортировать по цене</a>
<a asp-action="Index" asp-route-sortOrder="@(Model.SortViewModel.InQuantitySort)">Сортировать по количеству</a>
<div><br></div>

<div class="row justify-content-around">
    @foreach (var product in Model.Products)
    {
        <div class="card border-secondary mb-4" style="width: 18rem;">
            <a asp-controller="Product" asp-route-id="@product.Id">
                <img class="card-img-top"
                     src="@Url.Content(product.ImagePath)" alt="Изображение товара">
            </a>
            <div class="card-body">
                <h4 class="card-title">
                    <a class="text-dark" asp-controller="Product" asp-route-id="@product.Id">@product.Name</a>
                </h4>
                <h5>@product.RetailPrice &#8381;</h5>
                <p class="card-text">Количество: @product.InQuantity шт.</p>
            </div>
            <div class="card-body d-flex align-items-end">
                <a class="btn btn-info" asp-controller="Cart" asp-action="Add" asp-route-id="@product.Id"
                   role="button">В корзину</a>
            </div>
        </div>
    }
</div>
<br>
<page-link page-model="Model.PageViewModel" page-action="Index"
           page-url-sortorder="@(Model.SortViewModel.Current)"></page-link>
@section scripts
{
    <script type="text/javascript">

        $(function () {
            $.ajaxSetup({ cache: false });
            $(".proItem").click(function (e) {

                e.preventDefault();
                $.get(this.href, function (data) {
                    $('#dialogContent').html(data);
                    $('#modDialog').modal('show');
                });
            });
        })

        $(function () {
            var selects = document.querySelectorAll('select');
            for (var i = 0, select; select = selects[i]; i++) {
                if (sessionStorage[select.id] !== undefined) {
                    select.selectedIndex = sessionStorage[select.id];
                }
                select.onchange = function () {
                    sessionStorage[this.id] = this.selectedIndex;
                }
            }
        })

    </script>
}